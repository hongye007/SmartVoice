# 功能设计与优先级框架

本文档提供功能设计、优先级排序和需求管理的方法论。

---

## 📖 目录

1. [功能优先级框架](#功能优先级框架)
2. [用户故事编写](#用户故事编写)
3. [MVP 定义](#mvp-定义)
4. [功能依赖管理](#功能依赖管理)

---

## 🎯 功能优先级框架

### RICE 评分法

**R - Reach (影响范围)**
- 多少用户会受益？
- 评分：用户数或百分比

**I - Impact (影响程度)**
- 对个人用户的影响有多大？
- 评分：3 (巨大), 2 (高), 1 (中), 0.5 (低), 0.25 (最小)

**C - Confidence (信心度)**
- 我们对估算的信心有多高？
- 评分：100% (高), 80% (中), 50% (低)

**E - Effort (工作量)**
- 需要多少"人月"？
- 评分：实际时间估算

**RICE 分数 = (R × I × C) / E**

分数越高，优先级越高。

**示例：**
```
功能 A:
- Reach: 1000 用户/月
- Impact: 2 (高)
- Confidence: 80%
- Effort: 4 人月
RICE = (1000 × 2 × 0.8) / 4 = 400

功能 B:
- Reach: 500 用户/月
- Impact: 3 (巨大)
- Confidence: 100%
- Effort: 2 人月
RICE = (500 × 3 × 1.0) / 2 = 750

→ 功能 B 优先级更高
```

### MoSCoW 方法

将功能分为四类：

**Must Have (必须有) - P0**
- 没有这个功能，产品无法工作
- MVP 的核心功能
- 示例："用户必须能登录"

**Should Have (应该有) - P1**
- 重要但不是关键
- 显著提升体验
- 示例："用户应该能导出数据"

**Could Have (可以有) - P2**
- 有价值但非必需
- 资源允许时添加
- 示例："用户可以自定义主题"

**Won't Have (不会有) - P3**
- 明确排除在当前范围外
- 未来可能考虑
- 示例："暂不支持移动端"

### Kano 模型

根据用户满意度分类功能：

**基本型需求 (Must-be)**
- 没有会不满，有了不会特别满意
- 示例：产品稳定、无 bug

**期望型需求 (Performance)**
- 做得越好，满意度越高
- 示例：速度、功能数量

**兴奋型需求 (Delighter)**
- 没有不会不满，有了会非常惊喜
- 示例：创新功能、意外的贴心设计

**无差异需求**
- 有没有都无所谓
- 不应该做

**反向需求**
- 有了反而不满
- 绝对不要做

### 价值 vs 复杂度矩阵

|        | 简单实现 | 复杂实现 |
|--------|---------|---------|
| **高价值** | ⭐⭐⭐ 快速赢得 | ⭐⭐ 重大项目 |
| **低价值** | ⭐ 填补空隙 | ❌ 钱坑 |

**策略：**
- 优先做"快速赢得"
- 精心规划"重大项目"
- 谨慎考虑"填补空隙"
- 避免"钱坑"

---

## 📝 用户故事编写

### 用户故事格式

```
作为 [用户角色]，
我想要 [完成某个操作]，
以便 [达成某个目标/获得某个价值]。
```

**好的示例：**
> 作为一名销售经理，我想要快速查看所有团队成员的销售漏斗状态，以便我能识别需要帮助的人并及时介入。

**不好的示例：**
❌ "我想要一个仪表板" (没有说明为什么)
❌ "作为系统，我需要..." (系统不是用户)
❌ "销售报表功能" (不是故事格式)

### INVEST 原则

好的用户故事应该是：

**I - Independent (独立的)**
- 可以独立开发和发布
- 最小化依赖

**N - Negotiable (可协商的)**
- 不是合同，是对话的起点
- 细节可以讨论

**V - Valuable (有价值的)**
- 对用户有明确价值
- 不是技术任务

**E - Estimable (可估算的)**
- 团队能估算工作量
- 如果不能，需要分解或澄清

**S - Small (小型的)**
- 一个冲刺内可完成
- 通常 1-5 天

**T - Testable (可测试的)**
- 有明确的验收标准
- 能验证是否完成

### 验收标准

使用 Given-When-Then 格式：

```
Given [前置条件]
When [用户操作]
Then [预期结果]
```

**示例：**
```
用户故事：作为用户，我想要搜索客户，以便快速找到需要的信息。

验收标准：
- Given 我在客户列表页面
  When 我在搜索框输入客户名称
  Then 实时显示匹配的客户列表

- Given 我搜索了不存在的客户
  When 没有匹配结果
  Then 显示"未找到客户"提示

- Given 我在搜索结果中
  When 我点击某个客户
  Then 跳转到该客户详情页
```

---

## 🚀 MVP 定义

### 什么是 MVP？

MVP (Minimum Viable Product) 是具有最少功能集但能验证核心价值假设的产品。

**MVP 不是：**
❌ 半成品
❌ 低质量产品
❌ 所有想要功能的第一版

**MVP 是：**
✅ 能解决核心问题的最简版本
✅ 能学习和验证的工具
✅ 快速上市的策略

### MVP 范围确定

**步骤 1：识别核心价值**
- 产品的核心价值主张是什么？
- 用户"雇用"产品完成的核心工作是什么？

**步骤 2：列出所有可能功能**
- 头脑风暴所有功能想法
- 不要在这个阶段限制

**步骤 3：应用 MoSCoW**
- 哪些是 Must Have？
- 哪些是 Should/Could/Won't Have？

**步骤 4：验证核心假设**
- 这个 MVP 能验证什么？
- 缺少什么会导致无法验证？

**步骤 5：去掉所有非必需**
- 再次质疑每个功能
- "如果没有这个，会怎样？"

### MVP 测试计划

**定义成功指标：**
- 使用率指标
- 用户留存
- 用户反馈
- 核心假设验证

**学习计划：**
- 要验证什么假设？
- 如何收集数据？
- 多久评估一次？

---

## 🔗 功能依赖管理

### 依赖类型

**技术依赖：**
- 功能 B 需要功能 A 的技术基础
- 示例："导出 PDF"依赖"生成报表"

**用户流程依赖：**
- 用户必须先完成 A 才能使用 B
- 示例："分享列表"依赖"创建列表"

**数据依赖：**
- 功能 B 需要功能 A 产生的数据
- 示例："数据分析"依赖"数据收集"

### 依赖图绘制

```
[功能 A] ──→ [功能 B] ──→ [功能 D]
   ↓
[功能 C] ───────────────→ [功能 E]
```

**关键路径：** 最长的依赖链决定了最短交付时间。

### 管理策略

**1. 最小化依赖**
- 功能是否真的依赖？
- 能否独立工作？

**2. 并行开发**
- 哪些功能可以同时开发？
- 如何解耦？

**3. 增量交付**
- 分阶段交付
- 先交付独立功能

**4. 风险管理**
- 依赖的功能延期怎么办？
- 有 Plan B 吗？

---

## 📊 功能决策框架

### 功能请求评估

当收到新功能请求时问：

**1. 符合产品愿景吗？**
- 这个功能支持核心目标吗？

**2. 目标用户需要吗？**
- 多少用户需要？
- 需求强度如何？

**3. 与现有功能一致吗？**
- 会让产品变复杂吗？
- 是否有更简单的方法？

**4. ROI 如何？**
- 投入 vs 回报
- 机会成本

**5. 时机对吗？**
- 现在是最佳时机吗？
- 还有更重要的事吗？

### 说"不"的艺术

并非所有功能请求都应该做。如何拒绝：

**1. 解释原因**
- 与愿景不符
- 优先级更高的事项
- 资源限制

**2. 提供替代方案**
- 现有功能能否满足？
- 是否有其他方法？

**3. 记录反馈**
- 保存到功能 backlog
- 定期审查

**4. 保持开放**
- "现在不做，不代表永远不做"
- 欢迎未来再讨论

---

## 🎯 功能设计检查清单

### 设计前

- [ ] 明确用户故事和价值
- [ ] 编写验收标准
- [ ] 评估优先级 (RICE/MoSCoW)
- [ ] 识别依赖关系
- [ ] 估算工作量

### 设计中

- [ ] 创建用户流程图
- [ ] 设计界面原型
- [ ] 考虑边界情况
- [ ] 规划错误处理
- [ ] 定义成功指标

### 设计后

- [ ] 技术可行性审查
- [ ] 设计审查
- [ ] 利益相关方审批
- [ ] 开发任务分解
- [ ] 测试计划

---

**记住：** 少即是多。做好一个核心功能比做十个半成品功能更有价值。专注于用户真正需要的功能。
