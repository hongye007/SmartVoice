---
name: product-plan
description: 交互式产品规划技能，用于 0 到 1 的产品定义。使用场景：(1) 规划全新产品或重大功能；(2) 定义产品愿景和价值主张；(3) 分析目标用户和市场定位；(4) 设计核心功能集和优先级；(5) 创建产品路线图和里程碑；(6) 需要系统化的产品规划文档 (PRD/产品简介)。通过 5 阶段结构化引导（愿景定义、用户研究、市场分析、功能设计、路线图规划），以交互式问答方式生成完整的产品规划文档。不适用于：快速功能讨论、技术设计文档、已有明确 PRD 的执行任务。
---

# 产品规划技能

通过交互式问答引导用户完成 5 个阶段的产品规划，生成系统化的产品文档。

## 工作流程

5 个阶段：愿景定位 → 用户研究 → 市场分析 → 功能设计 → 路线图规划 → 综合输出

### 启动流程

1. **介绍流程** - 说明即将进行的 5 阶段规划流程
2. **确认语言偏好** - 询问用户希望使用中文还是英文（默认中文）
3. **获取产品名称** - 询问产品名称，用于创建文档
4. **开始第一阶段** - 进入产品愿景与定位阶段

### 五阶段详细流程

---

#### 📍 阶段 1：产品愿景与定位

**目标：** 明确产品的核心理念和价值主张

**关键问题：**

1. **产品概念**
   - "请描述你计划做什么产品？核心想法是什么？"
   - 引导：简要说明产品类型、主要功能或服务

2. **目标用户**
   - "这个产品主要服务于哪些用户？他们是谁？"
   - 引导：可以是用户角色、行业、群体等

3. **核心问题**
   - "这个产品解决的核心问题或满足的需求是什么？"
   - 引导：用户为什么需要这个产品？

**输出文档：**
- `docs/product/[产品名]-brief.md` - 使用 `templates/product-brief.md` 模板
- 包含：愿景声明、问题陈述、目标用户、价值主张、成功标准

**参考资料（按需）：**
- 如果用户需要帮助定义愿景或价值主张，读取 `references/01-vision-framework.md`

---

#### 👥 阶段 2：用户研究与洞察

**目标：** 深入理解目标用户的需求和痛点

**关键问题：**

1. **用户痛点**
   - "目标用户当前面临的主要痛点是什么？"
   - 引导：具体的困难、不便、或问题

2. **现有替代方案**
   - "他们现在如何解决这个问题？使用什么工具或方法？"
   - 引导：竞品、替代解决方案、或手动流程

3. **成功定义**
   - "从用户的视角看，使用你的产品后，成功是什么样子？"
   - 引导：具体的结果、体验、或改善

4. **用户细分**（可选）
   - "是否需要定义多个用户画像或细分群体？"
   - 引导：不同类型的用户可能有不同需求

**输出文档：**
- `docs/product/personas/[画像名].md` - 使用 `templates/user-persona.md` 模板
- 为每个主要用户群体创建一个画像文档
- 包含：人口统计、目标、痛点、当前行为、产品需求

**参考资料（按需）：**
- 如果用户需要用户研究方法指导，读取 `references/02-user-research.md`

---

#### 📊 阶段 3：市场分析

**目标：** 了解竞争环境和差异化定位

**关键问题：**

1. **竞争对手**
   - "这个领域的主要竞品或替代方案有哪些？"
   - 引导：直接竞品、间接竞品、或替代解决方案
   - **可选：** 使用 WebSearch 工具搜索相关竞品信息

2. **差异化优势**
   - "你的产品有什么不同或更好的地方？核心竞争力是什么？"
   - 引导：技术、体验、价格、服务等方面的优势

3. **市场机会**
   - "有哪些市场趋势、技术变化或需求变化支持这个产品？"
   - 引导：时机、市场空白、新兴需求等

**输出文档：**
- `docs/product/competitive-analysis/competitive-matrix.md` - 使用 `templates/competitive-matrix.md` 模板
- `docs/product/competitive-analysis/market-positioning.md` - 市场定位总结
- 包含：竞品对比表、竞争优势分析、市场机会

**参考资料（按需）：**
- 如果用户需要市场分析方法，读取 `references/03-market-analysis.md`

---

#### ⚙️ 阶段 4：功能设计与优先级

**目标：** 定义核心功能并确定优先级

**关键问题：**

1. **核心功能**
   - "MVP（最小可行产品）或初始版本需要哪些核心功能？"
   - 引导：用户能够解决核心问题的最少功能集

2. **功能优先级**
   - "在这些功能中，哪些是必须的（P0），哪些是重要的（P1），哪些是锦上添花（P2）？"
   - 引导：根据用户价值和实现复杂度分类

3. **技术限制**
   - "是否有技术限制、平台要求、或外部依赖需要考虑？"
   - 引导：技术栈、集成、性能、安全等约束

4. **需求映射**
   - "每个核心功能如何对应用户需求和业务目标？"
   - 引导：功能的价值和理由

**输出文档：**
- `docs/product/features/[功能名].md` - 为每个核心功能使用 `templates/feature-spec.md` 模板
- `docs/product/features/prioritization-matrix.md` - 功能优先级矩阵
- 包含：功能规格、用户故事、需求、优先级、依赖、成功指标

**参考资料（按需）：**
- 如果用户需要功能设计和优先级方法，读取 `references/04-feature-design.md`

---

#### 🗓️ 阶段 5：路线图规划

**目标：** 制定产品发布时间线和里程碑

**关键问题：**

1. **时间线**
   - "产品发布的目标时间线是什么？有关键里程碑吗？"
   - 引导：MVP 发布时间、后续版本计划

2. **功能排序**
   - "功能应该如何在不同版本/阶段间排序？"
   - 引导：基于依赖关系、用户价值、技术复杂度排序

3. **成功指标**
   - "需要跟踪的关键成功指标（KPI）是什么？"
   - 引导：用户增长、留存、收入、满意度等

**输出文档：**
- `docs/product/roadmap/roadmap.md` - 使用 `templates/roadmap.md` 模板
- 包含：分阶段目标、功能列表、时间线、成功标准

**参考资料（按需）：**
- 如果用户需要路线图规划方法，读取 `references/05-roadmap-planning.md`

---

### 🎯 阶段 6：综合输出

**目标：** 整合所有阶段的输出，生成完整的产品规划文档

**操作步骤：**

1. **汇总内容** - 读取所有阶段生成的文档
2. **创建主文档** - 将内容整合到 `docs/product/[产品名]-plan.md`
3. **结构化组织** - 按照标准产品规划文档结构组织内容：
   - 执行摘要
   - 产品愿景
   - 用户研究
   - 市场分析
   - 产品功能
   - 产品路线图
   - 下一步行动

4. **审查完整性** - 检查是否有遗漏或需要补充的内容
5. **标识后续步骤** - 列出开放问题和下一步行动

**最终输出：**
- `docs/product/[产品名]-plan.md` - 完整的产品规划文档（15-25 页）
- 所有阶段的详细文档（作为附件）

---

## 输出文档结构

### 主规划文档模板

```markdown
# [产品名] 产品规划文档

**版本：** 1.0
**日期：** [日期]
**状态：** 草稿

## 执行摘要

[2-3 段概述，涵盖产品愿景、目标用户、核心价值、关键功能]

## 1. 产品愿景

### 1.1 愿景声明
### 1.2 问题陈述
### 1.3 价值主张
### 1.4 成功标准

## 2. 用户研究

### 2.1 目标用户
### 2.2 用户画像
### 2.3 用户需求与痛点
### 2.4 用户旅程

## 3. 市场分析

### 3.1 市场机会
### 3.2 竞争格局
### 3.3 竞品对比矩阵
### 3.4 差异化策略

## 4. 产品功能

### 4.1 核心功能（MVP）
### 4.2 功能优先级矩阵
### 4.3 功能规格
### 4.4 技术考量

## 5. 产品路线图

### 5.1 发布阶段
### 5.2 时间线与里程碑
### 5.3 成功指标
### 5.4 依赖与风险

## 6. 下一步行动

### 6.1 立即行动项
### 6.2 开放问题
### 6.3 所需资源
```

### 交互原则

1. **每次 2-4 个问题** - 保持对话节奏
2. **总结确认** - 阶段结束前总结理解
3. **渐进式深入** - 需要时引用参考资料 (references/ 目录)
4. **即时生成文档** - 每阶段结束后立即生成并保存

## 参考资料索引

本技能包含以下深度参考资料，按需加载：

### 📖 愿景框架 (`references/01-vision-framework.md`)
- 如何撰写有说服力的愿景声明
- 问题陈述框架
- 价值主张画布
- SMART 目标设定

### 📖 用户研究 (`references/02-user-research.md`)
- 用户画像开发方法论
- Jobs-to-be-Done (JTBD) 框架
- 痛点识别技术
- 用户旅程地图
- 访谈问题模板

### 📖 市场分析 (`references/03-market-analysis.md`)
- TAM/SAM/SOM 市场规模分析
- 竞品分析框架（波特五力、SWOT）
- 市场趋势分析
- 定位策略
- 差异化技术

### 📖 功能设计 (`references/04-feature-design.md`)
- 功能优先级框架（RICE、MoSCoW、Kano）
- 用户故事编写
- 验收标准定义
- 技术可行性评估
- 功能依赖映射

### 📖 路线图规划 (`references/05-roadmap-planning.md`)
- 路线图类型（时间导向、结果导向、主题导向）
- 里程碑定义
- 发布规划策略
- 成功指标和 KPI
- 风险评估与缓解

---

## 模板文件索引

本技能包含以下输出模板：

- `templates/product-brief.md` - 产品简介模板
- `templates/user-persona.md` - 用户画像模板
- `templates/competitive-matrix.md` - 竞品分析矩阵模板
- `templates/feature-spec.md` - 功能规格模板
- `templates/roadmap.md` - 产品路线图模板

---

## 配置选项

从 `.claude/preferences.json` 读取以下配置：

```json
{
  "preferences": {
    "productPlanning": {
      "defaultOutputPath": "docs/product",
      "templateLanguage": "zh-CN",
      "includeMarketResearch": true
    }
  }
}
```

- `defaultOutputPath` - 文档输出路径（默认：`docs/product`）
- `templateLanguage` - 模板语言（`zh-CN` 或 `en-US`）
- `includeMarketResearch` - 是否在市场分析阶段使用 WebSearch 工具

